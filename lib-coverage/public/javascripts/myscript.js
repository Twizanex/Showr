/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['public/javascripts/myscript.js']) {
  _$jscoverage['public/javascripts/myscript.js'] = [];
  _$jscoverage['public/javascripts/myscript.js'][1] = 0;
  _$jscoverage['public/javascripts/myscript.js'][2] = 0;
  _$jscoverage['public/javascripts/myscript.js'][13] = 0;
  _$jscoverage['public/javascripts/myscript.js'][14] = 0;
  _$jscoverage['public/javascripts/myscript.js'][15] = 0;
  _$jscoverage['public/javascripts/myscript.js'][17] = 0;
  _$jscoverage['public/javascripts/myscript.js'][18] = 0;
  _$jscoverage['public/javascripts/myscript.js'][19] = 0;
  _$jscoverage['public/javascripts/myscript.js'][20] = 0;
  _$jscoverage['public/javascripts/myscript.js'][21] = 0;
  _$jscoverage['public/javascripts/myscript.js'][22] = 0;
  _$jscoverage['public/javascripts/myscript.js'][23] = 0;
  _$jscoverage['public/javascripts/myscript.js'][28] = 0;
  _$jscoverage['public/javascripts/myscript.js'][32] = 0;
  _$jscoverage['public/javascripts/myscript.js'][33] = 0;
  _$jscoverage['public/javascripts/myscript.js'][35] = 0;
  _$jscoverage['public/javascripts/myscript.js'][41] = 0;
  _$jscoverage['public/javascripts/myscript.js'][42] = 0;
  _$jscoverage['public/javascripts/myscript.js'][43] = 0;
  _$jscoverage['public/javascripts/myscript.js'][46] = 0;
  _$jscoverage['public/javascripts/myscript.js'][47] = 0;
  _$jscoverage['public/javascripts/myscript.js'][48] = 0;
  _$jscoverage['public/javascripts/myscript.js'][49] = 0;
  _$jscoverage['public/javascripts/myscript.js'][50] = 0;
  _$jscoverage['public/javascripts/myscript.js'][51] = 0;
  _$jscoverage['public/javascripts/myscript.js'][54] = 0;
  _$jscoverage['public/javascripts/myscript.js'][55] = 0;
  _$jscoverage['public/javascripts/myscript.js'][56] = 0;
  _$jscoverage['public/javascripts/myscript.js'][59] = 0;
  _$jscoverage['public/javascripts/myscript.js'][63] = 0;
  _$jscoverage['public/javascripts/myscript.js'][64] = 0;
  _$jscoverage['public/javascripts/myscript.js'][65] = 0;
  _$jscoverage['public/javascripts/myscript.js'][66] = 0;
  _$jscoverage['public/javascripts/myscript.js'][69] = 0;
  _$jscoverage['public/javascripts/myscript.js'][72] = 0;
  _$jscoverage['public/javascripts/myscript.js'][73] = 0;
  _$jscoverage['public/javascripts/myscript.js'][75] = 0;
  _$jscoverage['public/javascripts/myscript.js'][76] = 0;
  _$jscoverage['public/javascripts/myscript.js'][79] = 0;
  _$jscoverage['public/javascripts/myscript.js'][80] = 0;
  _$jscoverage['public/javascripts/myscript.js'][81] = 0;
  _$jscoverage['public/javascripts/myscript.js'][82] = 0;
  _$jscoverage['public/javascripts/myscript.js'][83] = 0;
  _$jscoverage['public/javascripts/myscript.js'][85] = 0;
  _$jscoverage['public/javascripts/myscript.js'][86] = 0;
  _$jscoverage['public/javascripts/myscript.js'][87] = 0;
  _$jscoverage['public/javascripts/myscript.js'][88] = 0;
  _$jscoverage['public/javascripts/myscript.js'][89] = 0;
  _$jscoverage['public/javascripts/myscript.js'][93] = 0;
  _$jscoverage['public/javascripts/myscript.js'][94] = 0;
  _$jscoverage['public/javascripts/myscript.js'][95] = 0;
  _$jscoverage['public/javascripts/myscript.js'][96] = 0;
  _$jscoverage['public/javascripts/myscript.js'][104] = 0;
  _$jscoverage['public/javascripts/myscript.js'][107] = 0;
  _$jscoverage['public/javascripts/myscript.js'][110] = 0;
  _$jscoverage['public/javascripts/myscript.js'][113] = 0;
  _$jscoverage['public/javascripts/myscript.js'][114] = 0;
  _$jscoverage['public/javascripts/myscript.js'][115] = 0;
  _$jscoverage['public/javascripts/myscript.js'][116] = 0;
  _$jscoverage['public/javascripts/myscript.js'][117] = 0;
  _$jscoverage['public/javascripts/myscript.js'][118] = 0;
  _$jscoverage['public/javascripts/myscript.js'][119] = 0;
  _$jscoverage['public/javascripts/myscript.js'][120] = 0;
  _$jscoverage['public/javascripts/myscript.js'][123] = 0;
  _$jscoverage['public/javascripts/myscript.js'][127] = 0;
  _$jscoverage['public/javascripts/myscript.js'][128] = 0;
  _$jscoverage['public/javascripts/myscript.js'][130] = 0;
  _$jscoverage['public/javascripts/myscript.js'][134] = 0;
  _$jscoverage['public/javascripts/myscript.js'][139] = 0;
  _$jscoverage['public/javascripts/myscript.js'][140] = 0;
  _$jscoverage['public/javascripts/myscript.js'][141] = 0;
  _$jscoverage['public/javascripts/myscript.js'][143] = 0;
  _$jscoverage['public/javascripts/myscript.js'][144] = 0;
  _$jscoverage['public/javascripts/myscript.js'][145] = 0;
  _$jscoverage['public/javascripts/myscript.js'][146] = 0;
  _$jscoverage['public/javascripts/myscript.js'][147] = 0;
  _$jscoverage['public/javascripts/myscript.js'][149] = 0;
  _$jscoverage['public/javascripts/myscript.js'][150] = 0;
  _$jscoverage['public/javascripts/myscript.js'][153] = 0;
  _$jscoverage['public/javascripts/myscript.js'][154] = 0;
  _$jscoverage['public/javascripts/myscript.js'][159] = 0;
  _$jscoverage['public/javascripts/myscript.js'][160] = 0;
  _$jscoverage['public/javascripts/myscript.js'][161] = 0;
  _$jscoverage['public/javascripts/myscript.js'][162] = 0;
  _$jscoverage['public/javascripts/myscript.js'][163] = 0;
  _$jscoverage['public/javascripts/myscript.js'][167] = 0;
  _$jscoverage['public/javascripts/myscript.js'][168] = 0;
  _$jscoverage['public/javascripts/myscript.js'][169] = 0;
  _$jscoverage['public/javascripts/myscript.js'][170] = 0;
  _$jscoverage['public/javascripts/myscript.js'][171] = 0;
}
_$jscoverage['public/javascripts/myscript.js'].source = ["<span class=\"k\">function</span> makeAjaxRequest<span class=\"k\">(</span>path<span class=\"k\">,</span> method<span class=\"k\">,</span> data<span class=\"k\">,</span> successcallback<span class=\"k\">)</span><span class=\"k\">{</span>","    $<span class=\"k\">.</span>ajax<span class=\"k\">(</span><span class=\"k\">{</span>","        type<span class=\"k\">:</span> method<span class=\"k\">,</span>","        url<span class=\"k\">:</span> <span class=\"s\">\"http://localhost:3000/\"</span><span class=\"k\">+</span>path<span class=\"k\">,</span>","        data<span class=\"k\">:</span> data<span class=\"k\">,</span>","        dataType<span class=\"k\">:</span> <span class=\"s\">'JSON'</span><span class=\"k\">,</span>","        cache<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","        success<span class=\"k\">:</span> successcallback","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span>","","","<span class=\"k\">function</span> validateMessage<span class=\"k\">(</span>name<span class=\"k\">,</span> postingas<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> text <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'postMessage'</span><span class=\"k\">).</span>value<span class=\"k\">;</span>","    <span class=\"k\">var</span> textLength <span class=\"k\">=</span> text<span class=\"k\">.</span>length<span class=\"k\">;</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>textLength <span class=\"k\">&lt;</span> <span class=\"s\">140</span> <span class=\"k\">&amp;&amp;</span> text <span class=\"k\">!=</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> messageInsert <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"media\"&gt;'</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;div class=\"media-body\"&gt;&lt;a href=\"/users/'</span><span class=\"k\">+</span>postingas<span class=\"k\">+</span><span class=\"s\">'\"&gt;&lt;h4 class=\"media-heading\"&gt;'</span><span class=\"k\">+</span>postingas<span class=\"k\">+</span><span class=\"s\">'&lt;/h4&gt;&lt;/a&gt;&lt;p class=\"message\"&gt;'</span><span class=\"k\">+</span>text<span class=\"k\">+</span><span class=\"s\">'&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        $<span class=\"k\">(</span>messageInsert<span class=\"k\">).</span>prependTo<span class=\"k\">(</span><span class=\"s\">'#messageContainer'</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        data<span class=\"k\">.</span>name <span class=\"k\">=</span> name<span class=\"k\">;</span>","        data<span class=\"k\">.</span>text <span class=\"k\">=</span> text<span class=\"k\">;</span>","        makeAjaxRequest<span class=\"k\">(</span><span class=\"s\">\"postmessage\"</span><span class=\"k\">,</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>responseData<span class=\"k\">)</span><span class=\"k\">{}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span>","        <span class=\"k\">{</span>","            <span class=\"c\">// error output to user with fadeout</span>","            $<span class=\"k\">(</span><span class=\"s\">'&lt;p class=\"error\"&gt; Wrong input! input length has to be more than 0 and less then 140 characters &lt;/p&gt;'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>insertBefore<span class=\"k\">(</span><span class=\"s\">\"#messageForm\"</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>delay<span class=\"k\">(</span><span class=\"s\">1500</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>queue<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>next<span class=\"k\">)</span> <span class=\"k\">{</span>","                    $<span class=\"k\">(</span><span class=\"s\">'p.error'</span><span class=\"k\">).</span>fadeOut<span class=\"k\">(</span><span class=\"s\">'slow'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        $<span class=\"k\">(</span><span class=\"s\">\"p.error\"</span><span class=\"k\">).</span>remove<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                    next<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","<span class=\"k\">}</span>","","","<span class=\"k\">function</span> getAllMessages<span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> username <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'username'</span><span class=\"k\">).</span>textContent","    <span class=\"k\">var</span> worker <span class=\"k\">=</span> <span class=\"k\">new</span> Worker<span class=\"k\">(</span><span class=\"s\">'/javascripts/worker.js'</span><span class=\"k\">);</span>","    <span class=\"c\">/* Webworker code that gets messages async, by polling the getall route */</span>","    <span class=\"c\">/*----------------------------------------------------------------------*/</span>","    worker<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">'message'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        $<span class=\"k\">(</span><span class=\"s\">'#messageContainer'</span><span class=\"k\">).</span>empty<span class=\"k\">();</span>","        console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"s\">\"Receiving messages from web-worker\"</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> result <span class=\"k\">=</span> JSON<span class=\"k\">.</span>parse<span class=\"k\">(</span>event<span class=\"k\">.</span>data<span class=\"k\">);</span>","        <span class=\"k\">var</span> messageInsert <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span><span class=\"k\">(</span>k <span class=\"k\">in</span> result<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//console.log(result[k].from);</span>","            <span class=\"c\">// Array of strings for easy DOM manipulation</span>","            messageInsert<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"media\"&gt;'</span><span class=\"k\">;</span>","            messageInsert<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"media-body\"&gt;&lt;a href=\"/users/'</span> <span class=\"k\">+</span> result<span class=\"k\">[</span>k<span class=\"k\">].</span>from <span class=\"k\">+</span> <span class=\"s\">'\"&gt;&lt;h4 class=\"media-heading\"&gt;'</span> <span class=\"k\">+</span> result<span class=\"k\">[</span>k<span class=\"k\">].</span>from <span class=\"k\">+</span> <span class=\"s\">'&lt;/h4&gt;&lt;/a&gt;&lt;p class=\"message\"&gt;'</span> <span class=\"k\">+</span> result<span class=\"k\">[</span>k<span class=\"k\">].</span>text <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","            $<span class=\"k\">(</span>messageInsert<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">\"\"</span><span class=\"k\">)).</span>prependTo<span class=\"k\">(</span><span class=\"s\">'#messageContainer'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    worker<span class=\"k\">.</span>postMessage<span class=\"k\">(</span>username<span class=\"k\">);</span>","    <span class=\"c\">/*----------------------------------------------------------------------*/</span>","<span class=\"k\">}</span>","","$<span class=\"k\">(</span>document<span class=\"k\">).</span>ready<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    getAllMessages<span class=\"k\">();</span>","    <span class=\"k\">var</span> url <span class=\"k\">=</span> window<span class=\"k\">.</span>location<span class=\"k\">.</span>href<span class=\"k\">;</span>","    $<span class=\"k\">(</span><span class=\"s\">'.nav a[href=\"'</span><span class=\"k\">+</span>url<span class=\"k\">+</span><span class=\"s\">'\"]'</span><span class=\"k\">).</span>parent<span class=\"k\">().</span>addClass<span class=\"k\">(</span><span class=\"s\">'active'</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">);</span>","","window<span class=\"k\">.</span>onload <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"c\">// Fetch all the users messages</span>","","    <span class=\"k\">var</span> friendname <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'username'</span><span class=\"k\">).</span>textContent<span class=\"k\">;</span>","    checkFriendStatus<span class=\"k\">(</span>friendname<span class=\"k\">);</span>","","    $<span class=\"k\">(</span><span class=\"s\">'#friendstatus'</span><span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span> <span class=\"s\">\".addfriendButton, .removefriendButton\"</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> friendbtn <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">),</span>","            spantext <span class=\"k\">=</span> friendbtn<span class=\"k\">.</span>find<span class=\"k\">(</span><span class=\"s\">'.text'</span><span class=\"k\">);</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span> friendbtn<span class=\"k\">.</span>hasClass<span class=\"k\">(</span><span class=\"s\">'addfriendButton'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            addFriend<span class=\"k\">(</span>friendname<span class=\"k\">);</span>","            friendbtn<span class=\"k\">.</span>removeClass<span class=\"k\">(</span><span class=\"s\">'addfriendButton'</span><span class=\"k\">).</span>addClass<span class=\"k\">(</span><span class=\"s\">'removefriendButton'</span><span class=\"k\">);</span>","            friendbtn<span class=\"k\">.</span>find<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">).</span>toggleClass<span class=\"k\">(</span><span class=\"s\">'glyphicon-plus glyphicon-minus'</span><span class=\"k\">);</span>","            spantext<span class=\"k\">.</span>text<span class=\"k\">(</span><span class=\"s\">'Remove friend'</span><span class=\"k\">);</span>","","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> friendbtn<span class=\"k\">.</span>hasClass<span class=\"k\">(</span><span class=\"s\">'removefriendButton'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            removeFriend<span class=\"k\">(</span>friendname<span class=\"k\">);</span>","            friendbtn<span class=\"k\">.</span>removeClass<span class=\"k\">(</span><span class=\"s\">'removefriendButton'</span><span class=\"k\">).</span>addClass<span class=\"k\">(</span><span class=\"s\">'addfriendButton'</span><span class=\"k\">);</span>","            friendbtn<span class=\"k\">.</span>find<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">).</span>toggleClass<span class=\"k\">(</span><span class=\"s\">'glyphicon-minus glyphicon-plus'</span><span class=\"k\">);</span>","            spantext<span class=\"k\">.</span>text<span class=\"k\">(</span><span class=\"s\">'Add user'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    $<span class=\"k\">(</span><span class=\"s\">\"#uploadfile\"</span><span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"submit\"</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> form <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> formData <span class=\"k\">=</span> <span class=\"k\">new</span> FormData<span class=\"k\">(</span>form<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","        $<span class=\"k\">.</span>ajax<span class=\"k\">(</span><span class=\"k\">{</span>","            url<span class=\"k\">:</span> <span class=\"s\">\"http://localhost:3000/upload\"</span><span class=\"k\">,</span>","            data<span class=\"k\">:</span> formData <span class=\"k\">?</span> formData <span class=\"k\">:</span> form<span class=\"k\">.</span>serialize<span class=\"k\">(),</span>","            cache<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","            contentType<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","            processData<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","            type<span class=\"k\">:</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span>","            success<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>responseData<span class=\"k\">)</span> <span class=\"k\">{</span>","                $<span class=\"k\">(</span><span class=\"s\">\"#uploadbtn\"</span><span class=\"k\">).</span>prop<span class=\"k\">(</span><span class=\"s\">'value'</span><span class=\"k\">,</span> <span class=\"s\">'Success'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            error <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>responseData<span class=\"k\">)</span> <span class=\"k\">{</span>","                $<span class=\"k\">(</span><span class=\"s\">\"#uploadbtn\"</span><span class=\"k\">).</span>prop<span class=\"k\">(</span><span class=\"s\">'value'</span><span class=\"k\">,</span> <span class=\"s\">'text-danger'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    $<span class=\"k\">(</span><span class=\"s\">'#usersearch'</span><span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"submit\"</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> usersearchname <span class=\"k\">=</span> $<span class=\"k\">(</span><span class=\"s\">'#usersearchname'</span><span class=\"k\">).</span>val<span class=\"k\">();</span>","        data<span class=\"k\">.</span>user <span class=\"k\">=</span> usersearchname<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>usersearchname<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            makeAjaxRequest<span class=\"k\">(</span><span class=\"s\">'usersearch'</span><span class=\"k\">,</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>result<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>result<span class=\"k\">.</span>success <span class=\"k\">==</span> <span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    window<span class=\"k\">.</span>location<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">\"http://localhost:3000/users/\"</span> <span class=\"k\">+</span> usersearchname<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span>","                <span class=\"c\">// error output to user with fadeout</span>","                    $<span class=\"k\">(</span><span class=\"s\">'&lt;p class=\"text-danger\"&gt;A user with the username of '</span> <span class=\"k\">+</span> usersearchname <span class=\"k\">+</span> <span class=\"s\">' does not exist&lt;/p&gt;'</span><span class=\"k\">)</span>","                        <span class=\"k\">.</span>appendTo<span class=\"k\">(</span><span class=\"s\">\"#usersearch\"</span><span class=\"k\">)</span>","                        <span class=\"k\">.</span>delay<span class=\"k\">(</span><span class=\"s\">1500</span><span class=\"k\">)</span>","                        <span class=\"k\">.</span>queue<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>next<span class=\"k\">)</span> <span class=\"k\">{</span>","                            $<span class=\"k\">(</span><span class=\"s\">'p.text-danger'</span><span class=\"k\">).</span>fadeOut<span class=\"k\">(</span><span class=\"s\">'slow'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                $<span class=\"k\">(</span><span class=\"s\">\"p.text-danger\"</span><span class=\"k\">).</span>remove<span class=\"k\">();</span>","                            <span class=\"k\">}</span><span class=\"k\">);</span>","                            next<span class=\"k\">();</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">function</span> checkFriendStatus<span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    data<span class=\"k\">.</span>name <span class=\"k\">=</span> name<span class=\"k\">;</span>","    <span class=\"c\">//console.log(\" the name to check :\" + document.getElementById('username').textContent);</span>","    <span class=\"k\">var</span> DOMinsert <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","    makeAjaxRequest<span class=\"k\">(</span><span class=\"s\">\"checkfriendstatus\"</span><span class=\"k\">,</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>result<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>result<span class=\"k\">.</span>status<span class=\"k\">)</span> <span class=\"k\">{</span>","            console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"s\">\"We are friends with \"</span> <span class=\"k\">+</span> result<span class=\"k\">.</span>name <span class=\"k\">+</span> <span class=\"s\">\"status: \"</span> <span class=\"k\">+</span> result<span class=\"k\">.</span>status<span class=\"k\">);</span>","            DOMinsert <span class=\"k\">=</span> <span class=\"s\">'&lt;button class=\"removefriendButton btn btn-info\"&gt;&lt;span class=\"glyphicon glyphicon-minus\"&gt;&lt;/span&gt;&lt;p class=\"text\"&gt;Remove friend&lt;/p&gt;&lt;/button&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"s\">\"We are not friends with \"</span> <span class=\"k\">+</span> result<span class=\"k\">.</span>name <span class=\"k\">+</span> <span class=\"s\">\"status: \"</span> <span class=\"k\">+</span> result<span class=\"k\">.</span>status<span class=\"k\">);</span>","            DOMinsert <span class=\"k\">=</span> <span class=\"s\">'&lt;button class=\" addfriendButton btn btn-info\"&gt;&lt;span class=\"glyphicon glyphicon-plus\"&gt;&lt;/span&gt;&lt;p class=\"text\"&gt;Add friend&lt;/p&gt;&lt;/button&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"c\">/* if we dont have content in the friendstatus div we want to inject the proper add/remove button */</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>$<span class=\"k\">(</span><span class=\"s\">\"#friendstatus:not(:empty)\"</span><span class=\"k\">).</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","            $<span class=\"k\">(</span>DOMinsert<span class=\"k\">).</span>appendTo<span class=\"k\">(</span><span class=\"s\">'#friendstatus'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span>","","<span class=\"k\">function</span> addFriend<span class=\"k\">(</span>name<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    data<span class=\"k\">.</span>name <span class=\"k\">=</span> name<span class=\"k\">;</span>","    makeAjaxRequest<span class=\"k\">(</span><span class=\"s\">\"addfriend\"</span><span class=\"k\">,</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        checkFriendStatus<span class=\"k\">(</span>name<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span>","","<span class=\"k\">function</span> removeFriend<span class=\"k\">(</span>name<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> data <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    data<span class=\"k\">.</span>name <span class=\"k\">=</span> name<span class=\"k\">;</span>","    makeAjaxRequest<span class=\"k\">(</span><span class=\"s\">\"removefriend\"</span><span class=\"k\">,</span> <span class=\"s\">\"POST\"</span><span class=\"k\">,</span> data<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        checkFriendStatus<span class=\"k\">(</span>name<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span>"];
_$jscoverage['public/javascripts/myscript.js'][1]++;
function makeAjaxRequest(path, method, data, successcallback) {
  _$jscoverage['public/javascripts/myscript.js'][2]++;
  $.ajax({type: method, url: ("http://localhost:3000/" + path), data: data, dataType: "JSON", cache: false, success: successcallback});
}
_$jscoverage['public/javascripts/myscript.js'][13]++;
function validateMessage(name, postingas) {
  _$jscoverage['public/javascripts/myscript.js'][14]++;
  var text = document.getElementById("postMessage").value;
  _$jscoverage['public/javascripts/myscript.js'][15]++;
  var textLength = text.length;
  _$jscoverage['public/javascripts/myscript.js'][17]++;
  if (((textLength < 140) && (text != 0))) {
    _$jscoverage['public/javascripts/myscript.js'][18]++;
    var messageInsert = ("<div class=\"media\">" + "<div class=\"media-body\"><a href=\"/users/" + postingas + "\"><h4 class=\"media-heading\">" + postingas + "</h4></a><p class=\"message\">" + text + "</p></div></div>");
    _$jscoverage['public/javascripts/myscript.js'][19]++;
    $(messageInsert).prependTo("#messageContainer");
    _$jscoverage['public/javascripts/myscript.js'][20]++;
    var data = {};
    _$jscoverage['public/javascripts/myscript.js'][21]++;
    data.name = name;
    _$jscoverage['public/javascripts/myscript.js'][22]++;
    data.text = text;
    _$jscoverage['public/javascripts/myscript.js'][23]++;
    makeAjaxRequest("postmessage", "POST", data, (function (responseData) {
}));
  }
  else {
    _$jscoverage['public/javascripts/myscript.js'][28]++;
    $("<p class=\"error\"> Wrong input! input length has to be more than 0 and less then 140 characters </p>").insertBefore("#messageForm").delay(1500).queue((function (next) {
  _$jscoverage['public/javascripts/myscript.js'][32]++;
  $("p.error").fadeOut("slow", (function () {
  _$jscoverage['public/javascripts/myscript.js'][33]++;
  $("p.error").remove();
}));
  _$jscoverage['public/javascripts/myscript.js'][35]++;
  next();
}));
  }
}
_$jscoverage['public/javascripts/myscript.js'][41]++;
function getAllMessages() {
  _$jscoverage['public/javascripts/myscript.js'][42]++;
  var username = document.getElementById("username").textContent;
  _$jscoverage['public/javascripts/myscript.js'][43]++;
  var worker = new Worker("/javascripts/worker.js");
  _$jscoverage['public/javascripts/myscript.js'][46]++;
  worker.addEventListener("message", (function (event) {
  _$jscoverage['public/javascripts/myscript.js'][47]++;
  $("#messageContainer").empty();
  _$jscoverage['public/javascripts/myscript.js'][48]++;
  console.log("Receiving messages from web-worker");
  _$jscoverage['public/javascripts/myscript.js'][49]++;
  var result = JSON.parse(event.data);
  _$jscoverage['public/javascripts/myscript.js'][50]++;
  var messageInsert = [];
  _$jscoverage['public/javascripts/myscript.js'][51]++;
  for (k in result) {
    _$jscoverage['public/javascripts/myscript.js'][54]++;
    messageInsert[0] = "<div class=\"media\">";
    _$jscoverage['public/javascripts/myscript.js'][55]++;
    messageInsert[1] = ("<div class=\"media-body\"><a href=\"/users/" + result[k].from + "\"><h4 class=\"media-heading\">" + result[k].from + "</h4></a><p class=\"message\">" + result[k].text + "</p></div>");
    _$jscoverage['public/javascripts/myscript.js'][56]++;
    $(messageInsert.join("")).prependTo("#messageContainer");
}
}));
  _$jscoverage['public/javascripts/myscript.js'][59]++;
  worker.postMessage(username);
}
_$jscoverage['public/javascripts/myscript.js'][63]++;
$(document).ready((function () {
  _$jscoverage['public/javascripts/myscript.js'][64]++;
  getAllMessages();
  _$jscoverage['public/javascripts/myscript.js'][65]++;
  var url = window.location.href;
  _$jscoverage['public/javascripts/myscript.js'][66]++;
  $((".nav a[href=\"" + url + "\"]")).parent().addClass("active");
}));
_$jscoverage['public/javascripts/myscript.js'][69]++;
window.onload = (function () {
  _$jscoverage['public/javascripts/myscript.js'][72]++;
  var friendname = document.getElementById("username").textContent;
  _$jscoverage['public/javascripts/myscript.js'][73]++;
  checkFriendStatus(friendname);
  _$jscoverage['public/javascripts/myscript.js'][75]++;
  $("#friendstatus").on("click", ".addfriendButton, .removefriendButton", (function () {
  _$jscoverage['public/javascripts/myscript.js'][76]++;
  var friendbtn = $(this), spantext = friendbtn.find(".text");
  _$jscoverage['public/javascripts/myscript.js'][79]++;
  if (friendbtn.hasClass("addfriendButton")) {
    _$jscoverage['public/javascripts/myscript.js'][80]++;
    addFriend(friendname);
    _$jscoverage['public/javascripts/myscript.js'][81]++;
    friendbtn.removeClass("addfriendButton").addClass("removefriendButton");
    _$jscoverage['public/javascripts/myscript.js'][82]++;
    friendbtn.find("span").toggleClass("glyphicon-plus glyphicon-minus");
    _$jscoverage['public/javascripts/myscript.js'][83]++;
    spantext.text("Remove friend");
  }
  else {
    _$jscoverage['public/javascripts/myscript.js'][85]++;
    if (friendbtn.hasClass("removefriendButton")) {
      _$jscoverage['public/javascripts/myscript.js'][86]++;
      removeFriend(friendname);
      _$jscoverage['public/javascripts/myscript.js'][87]++;
      friendbtn.removeClass("removefriendButton").addClass("addfriendButton");
      _$jscoverage['public/javascripts/myscript.js'][88]++;
      friendbtn.find("span").toggleClass("glyphicon-minus glyphicon-plus");
      _$jscoverage['public/javascripts/myscript.js'][89]++;
      spantext.text("Add user");
    }
  }
}));
  _$jscoverage['public/javascripts/myscript.js'][93]++;
  $("#uploadfile").on("submit", (function () {
  _$jscoverage['public/javascripts/myscript.js'][94]++;
  var form = $(this);
  _$jscoverage['public/javascripts/myscript.js'][95]++;
  var formData = new FormData(form[0]);
  _$jscoverage['public/javascripts/myscript.js'][96]++;
  $.ajax({url: "http://localhost:3000/upload", data: (formData? formData: form.serialize()), cache: false, contentType: false, processData: false, type: "POST", success: (function (responseData) {
  _$jscoverage['public/javascripts/myscript.js'][104]++;
  $("#uploadbtn").prop("value", "Success");
}), error: (function (responseData) {
  _$jscoverage['public/javascripts/myscript.js'][107]++;
  $("#uploadbtn").prop("value", "text-danger");
})});
  _$jscoverage['public/javascripts/myscript.js'][110]++;
  return false;
}));
  _$jscoverage['public/javascripts/myscript.js'][113]++;
  $("#usersearch").on("submit", (function () {
  _$jscoverage['public/javascripts/myscript.js'][114]++;
  var data = {};
  _$jscoverage['public/javascripts/myscript.js'][115]++;
  var usersearchname = $("#usersearchname").val();
  _$jscoverage['public/javascripts/myscript.js'][116]++;
  data.user = usersearchname;
  _$jscoverage['public/javascripts/myscript.js'][117]++;
  if ((usersearchname.length > 0)) {
    _$jscoverage['public/javascripts/myscript.js'][118]++;
    makeAjaxRequest("usersearch", "POST", data, (function (result) {
  _$jscoverage['public/javascripts/myscript.js'][119]++;
  if ((result.success == true)) {
    _$jscoverage['public/javascripts/myscript.js'][120]++;
    window.location.replace(("http://localhost:3000/users/" + usersearchname));
  }
  else {
    _$jscoverage['public/javascripts/myscript.js'][123]++;
    $(("<p class=\"text-danger\">A user with the username of " + usersearchname + " does not exist</p>")).appendTo("#usersearch").delay(1500).queue((function (next) {
  _$jscoverage['public/javascripts/myscript.js'][127]++;
  $("p.text-danger").fadeOut("slow", (function () {
  _$jscoverage['public/javascripts/myscript.js'][128]++;
  $("p.text-danger").remove();
}));
  _$jscoverage['public/javascripts/myscript.js'][130]++;
  next();
}));
  }
}));
  }
  _$jscoverage['public/javascripts/myscript.js'][134]++;
  return false;
}));
});
_$jscoverage['public/javascripts/myscript.js'][139]++;
function checkFriendStatus(name) {
  _$jscoverage['public/javascripts/myscript.js'][140]++;
  var data = {};
  _$jscoverage['public/javascripts/myscript.js'][141]++;
  data.name = name;
  _$jscoverage['public/javascripts/myscript.js'][143]++;
  var DOMinsert = "";
  _$jscoverage['public/javascripts/myscript.js'][144]++;
  makeAjaxRequest("checkfriendstatus", "POST", data, (function (result) {
  _$jscoverage['public/javascripts/myscript.js'][145]++;
  if (result.status) {
    _$jscoverage['public/javascripts/myscript.js'][146]++;
    console.log(("We are friends with " + result.name + "status: " + result.status));
    _$jscoverage['public/javascripts/myscript.js'][147]++;
    DOMinsert = "<button class=\"removefriendButton btn btn-info\"><span class=\"glyphicon glyphicon-minus\"></span><p class=\"text\">Remove friend</p></button>";
  }
  else {
    _$jscoverage['public/javascripts/myscript.js'][149]++;
    console.log(("We are not friends with " + result.name + "status: " + result.status));
    _$jscoverage['public/javascripts/myscript.js'][150]++;
    DOMinsert = "<button class=\" addfriendButton btn btn-info\"><span class=\"glyphicon glyphicon-plus\"></span><p class=\"text\">Add friend</p></button>";
  }
  _$jscoverage['public/javascripts/myscript.js'][153]++;
  if ($("#friendstatus:not(:empty)").length) {
    _$jscoverage['public/javascripts/myscript.js'][154]++;
    $(DOMinsert).appendTo("#friendstatus");
  }
}));
}
_$jscoverage['public/javascripts/myscript.js'][159]++;
function addFriend(name) {
  _$jscoverage['public/javascripts/myscript.js'][160]++;
  var data = {};
  _$jscoverage['public/javascripts/myscript.js'][161]++;
  data.name = name;
  _$jscoverage['public/javascripts/myscript.js'][162]++;
  makeAjaxRequest("addfriend", "POST", data, (function () {
  _$jscoverage['public/javascripts/myscript.js'][163]++;
  checkFriendStatus(name);
}));
}
_$jscoverage['public/javascripts/myscript.js'][167]++;
function removeFriend(name) {
  _$jscoverage['public/javascripts/myscript.js'][168]++;
  var data = {};
  _$jscoverage['public/javascripts/myscript.js'][169]++;
  data.name = name;
  _$jscoverage['public/javascripts/myscript.js'][170]++;
  makeAjaxRequest("removefriend", "POST", data, (function () {
  _$jscoverage['public/javascripts/myscript.js'][171]++;
  checkFriendStatus(name);
}));
}
