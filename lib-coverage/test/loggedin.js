/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['test/loggedin.js']) {
  _$jscoverage['test/loggedin.js'] = [];
  _$jscoverage['test/loggedin.js'][4] = 0;
  _$jscoverage['test/loggedin.js'][5] = 0;
  _$jscoverage['test/loggedin.js'][7] = 0;
  _$jscoverage['test/loggedin.js'][8] = 0;
  _$jscoverage['test/loggedin.js'][9] = 0;
  _$jscoverage['test/loggedin.js'][10] = 0;
  _$jscoverage['test/loggedin.js'][11] = 0;
  _$jscoverage['test/loggedin.js'][13] = 0;
  _$jscoverage['test/loggedin.js'][15] = 0;
  _$jscoverage['test/loggedin.js'][16] = 0;
  _$jscoverage['test/loggedin.js'][17] = 0;
  _$jscoverage['test/loggedin.js'][18] = 0;
  _$jscoverage['test/loggedin.js'][22] = 0;
  _$jscoverage['test/loggedin.js'][23] = 0;
  _$jscoverage['test/loggedin.js'][25] = 0;
  _$jscoverage['test/loggedin.js'][26] = 0;
  _$jscoverage['test/loggedin.js'][32] = 0;
  _$jscoverage['test/loggedin.js'][33] = 0;
  _$jscoverage['test/loggedin.js'][34] = 0;
  _$jscoverage['test/loggedin.js'][35] = 0;
  _$jscoverage['test/loggedin.js'][39] = 0;
  _$jscoverage['test/loggedin.js'][41] = 0;
  _$jscoverage['test/loggedin.js'][45] = 0;
  _$jscoverage['test/loggedin.js'][46] = 0;
  _$jscoverage['test/loggedin.js'][47] = 0;
  _$jscoverage['test/loggedin.js'][48] = 0;
  _$jscoverage['test/loggedin.js'][52] = 0;
  _$jscoverage['test/loggedin.js'][53] = 0;
  _$jscoverage['test/loggedin.js'][55] = 0;
  _$jscoverage['test/loggedin.js'][59] = 0;
  _$jscoverage['test/loggedin.js'][60] = 0;
  _$jscoverage['test/loggedin.js'][61] = 0;
  _$jscoverage['test/loggedin.js'][62] = 0;
  _$jscoverage['test/loggedin.js'][66] = 0;
  _$jscoverage['test/loggedin.js'][68] = 0;
  _$jscoverage['test/loggedin.js'][72] = 0;
  _$jscoverage['test/loggedin.js'][73] = 0;
  _$jscoverage['test/loggedin.js'][74] = 0;
  _$jscoverage['test/loggedin.js'][75] = 0;
  _$jscoverage['test/loggedin.js'][79] = 0;
  _$jscoverage['test/loggedin.js'][80] = 0;
  _$jscoverage['test/loggedin.js'][82] = 0;
  _$jscoverage['test/loggedin.js'][86] = 0;
  _$jscoverage['test/loggedin.js'][87] = 0;
  _$jscoverage['test/loggedin.js'][88] = 0;
  _$jscoverage['test/loggedin.js'][89] = 0;
  _$jscoverage['test/loggedin.js'][93] = 0;
  _$jscoverage['test/loggedin.js'][95] = 0;
  _$jscoverage['test/loggedin.js'][99] = 0;
  _$jscoverage['test/loggedin.js'][100] = 0;
  _$jscoverage['test/loggedin.js'][101] = 0;
  _$jscoverage['test/loggedin.js'][102] = 0;
  _$jscoverage['test/loggedin.js'][106] = 0;
  _$jscoverage['test/loggedin.js'][107] = 0;
  _$jscoverage['test/loggedin.js'][109] = 0;
  _$jscoverage['test/loggedin.js'][113] = 0;
  _$jscoverage['test/loggedin.js'][114] = 0;
  _$jscoverage['test/loggedin.js'][115] = 0;
  _$jscoverage['test/loggedin.js'][116] = 0;
  _$jscoverage['test/loggedin.js'][120] = 0;
  _$jscoverage['test/loggedin.js'][121] = 0;
  _$jscoverage['test/loggedin.js'][123] = 0;
  _$jscoverage['test/loggedin.js'][127] = 0;
  _$jscoverage['test/loggedin.js'][128] = 0;
  _$jscoverage['test/loggedin.js'][129] = 0;
  _$jscoverage['test/loggedin.js'][130] = 0;
  _$jscoverage['test/loggedin.js'][132] = 0;
  _$jscoverage['test/loggedin.js'][133] = 0;
  _$jscoverage['test/loggedin.js'][135] = 0;
  _$jscoverage['test/loggedin.js'][139] = 0;
  _$jscoverage['test/loggedin.js'][140] = 0;
  _$jscoverage['test/loggedin.js'][141] = 0;
  _$jscoverage['test/loggedin.js'][142] = 0;
  _$jscoverage['test/loggedin.js'][144] = 0;
  _$jscoverage['test/loggedin.js'][145] = 0;
  _$jscoverage['test/loggedin.js'][147] = 0;
  _$jscoverage['test/loggedin.js'][151] = 0;
  _$jscoverage['test/loggedin.js'][152] = 0;
  _$jscoverage['test/loggedin.js'][153] = 0;
  _$jscoverage['test/loggedin.js'][154] = 0;
  _$jscoverage['test/loggedin.js'][157] = 0;
  _$jscoverage['test/loggedin.js'][159] = 0;
  _$jscoverage['test/loggedin.js'][164] = 0;
  _$jscoverage['test/loggedin.js'][165] = 0;
  _$jscoverage['test/loggedin.js'][166] = 0;
  _$jscoverage['test/loggedin.js'][167] = 0;
  _$jscoverage['test/loggedin.js'][169] = 0;
  _$jscoverage['test/loggedin.js'][171] = 0;
  _$jscoverage['test/loggedin.js'][175] = 0;
  _$jscoverage['test/loggedin.js'][176] = 0;
  _$jscoverage['test/loggedin.js'][177] = 0;
  _$jscoverage['test/loggedin.js'][178] = 0;
  _$jscoverage['test/loggedin.js'][180] = 0;
  _$jscoverage['test/loggedin.js'][181] = 0;
  _$jscoverage['test/loggedin.js'][183] = 0;
  _$jscoverage['test/loggedin.js'][201] = 0;
  _$jscoverage['test/loggedin.js'][202] = 0;
  _$jscoverage['test/loggedin.js'][203] = 0;
  _$jscoverage['test/loggedin.js'][209] = 0;
  _$jscoverage['test/loggedin.js'][210] = 0;
  _$jscoverage['test/loggedin.js'][211] = 0;
}
_$jscoverage['test/loggedin.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Created by ellie on 2014-10-15.</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> port <span class=\"k\">=</span> <span class=\"s\">3000</span><span class=\"k\">;</span>","<span class=\"k\">var</span> endpoint <span class=\"k\">=</span> <span class=\"s\">\"http://localhost:\"</span><span class=\"k\">+</span>port<span class=\"k\">;</span>","","<span class=\"k\">var</span> app <span class=\"k\">=</span> require<span class=\"k\">(</span><span class=\"s\">'../lib-coverage/bin/www'</span><span class=\"k\">);</span>","<span class=\"k\">var</span> superrequest <span class=\"k\">=</span> require<span class=\"k\">(</span><span class=\"s\">'supertest'</span><span class=\"k\">);</span>","<span class=\"k\">var</span> request <span class=\"k\">=</span> superrequest<span class=\"k\">.</span>agent<span class=\"k\">(</span>endpoint<span class=\"k\">);</span>","<span class=\"k\">var</span> should <span class=\"k\">=</span> require<span class=\"k\">(</span><span class=\"s\">'should'</span><span class=\"k\">);</span>","<span class=\"k\">var</span> assert <span class=\"k\">=</span> require<span class=\"k\">(</span><span class=\"s\">'assert'</span><span class=\"k\">);</span>","","describe<span class=\"k\">(</span><span class=\"s\">'for logged in user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /profile'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","\tit<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 when logged in'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","\t\t<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/profile'</span><span class=\"k\">)</span>","\t\t<span class=\"k\">.</span>set<span class=\"k\">(</span><span class=\"s\">'Cookie'</span><span class=\"k\">,</span> <span class=\"s\">'connect.sid=s%3AJjSPY2pQd6Q7bPSIiq9ntFGHaRYtJuwF.fb7bLc1wglzrfExS1v0xU6fzlPDeGBdqDjlb2aHQ37w'</span><span class=\"k\">)</span>","\t\t<span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t        <span class=\"k\">if</span> <span class=\"k\">(</span>err<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\t        <span class=\"k\">return</span> done<span class=\"k\">(</span>err<span class=\"k\">);</span>","\t\t        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                    done<span class=\"k\">();</span>","                <span class=\"k\">}</span>","\t\t    <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /postmessage'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should post a message on the users wall'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","            <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/postmessage'</span><span class=\"k\">)</span>","            <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"testingaccount\"</span><span class=\"k\">,</span> text<span class=\"k\">:</span><span class=\"s\">\"testmochatest\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","            <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /usersearch'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should search for a user, and be redirected to that user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/usersearch'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>user<span class=\"k\">:</span><span class=\"s\">\"elias\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span>JSON<span class=\"k\">.</span>stringify<span class=\"k\">(</span><span class=\"k\">{</span>success<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">}</span><span class=\"k\">));</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /addfriend'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should add a user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/addfriend'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"elias\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /checkfriendstatus'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should check friend status with friend'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/checkfriendstatus'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"elias\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span>JSON<span class=\"k\">.</span>stringify<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">'elias'</span><span class=\"k\">,</span> status<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">}</span><span class=\"k\">));</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /removefriend'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should remove a user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/removefriend'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"elias\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /checkfriendstatus'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should check friend status with friend'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/checkfriendstatus'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"elias\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span>JSON<span class=\"k\">.</span>stringify<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">'elias'</span><span class=\"k\">,</span> status<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">}</span><span class=\"k\">));</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'POST /getall'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should get all messages for user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request","                <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/getall'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>name<span class=\"k\">:</span><span class=\"s\">\"testingaccount\"</span><span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>length<span class=\"k\">.</span>should<span class=\"k\">.</span>greaterThan<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /getfriends'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 and list users friends'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/getfriends'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>length<span class=\"k\">.</span>should<span class=\"k\">.</span>above<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /getusername'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 and get user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/getusername'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>text<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span>JSON<span class=\"k\">.</span>stringify<span class=\"k\">(</span><span class=\"k\">{</span>username<span class=\"k\">:</span><span class=\"s\">'testingaccount'</span><span class=\"k\">}</span><span class=\"k\">));</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /photos'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 and show viewer list of images'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/profile/photos'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>expect<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /users/elias'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 when going to another user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/users/elias'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    describe<span class=\"k\">(</span><span class=\"s\">'GET /users/unknownuser'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        it<span class=\"k\">(</span><span class=\"s\">'should login'</span><span class=\"k\">,</span> loginUser<span class=\"k\">());</span>","        it<span class=\"k\">(</span><span class=\"s\">'should return 200 when going to another user'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","            request<span class=\"k\">.</span>get<span class=\"k\">(</span><span class=\"s\">'/users/unknownuser'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>end<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t    res<span class=\"k\">.</span>text<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">'There is no such user'</span><span class=\"k\">);</span>","                    res<span class=\"k\">.</span>statusCode<span class=\"k\">.</span>should<span class=\"k\">.</span>equal<span class=\"k\">(</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            done<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"c\">/*describe('POST /signout', function() {</span>","<span class=\"c\">        it('should login', loginUser());</span>","<span class=\"c\">        it('should sign user out', function(done) {</span>","<span class=\"c\">            request</span>","<span class=\"c\">                .post('/signout')</span>","<span class=\"c\">                .end(function(err, res) {</span>","<span class=\"c\">                    res.statusCode.should.equal(200);</span>","<span class=\"c\">                });</span>","<span class=\"c\">            done();</span>","<span class=\"c\">        });</span>","<span class=\"c\">    });*/</span>","","<span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"k\">function</span> loginUser<span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">function</span><span class=\"k\">(</span>done<span class=\"k\">)</span> <span class=\"k\">{</span>","\trequest","\t    <span class=\"k\">.</span>post<span class=\"k\">(</span><span class=\"s\">'/signin'</span><span class=\"k\">)</span>","\t    <span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">{</span>username<span class=\"k\">:</span> <span class=\"s\">'testingaccount'</span><span class=\"k\">,</span> password<span class=\"k\">:</span> <span class=\"s\">'test'</span><span class=\"k\">}</span><span class=\"k\">)</span>","\t    <span class=\"k\">.</span>expect<span class=\"k\">(</span><span class=\"s\">302</span><span class=\"k\">)</span>","\t    <span class=\"k\">.</span>end<span class=\"k\">(</span>onResponse<span class=\"k\">);</span>","\t","\t<span class=\"k\">function</span> onResponse<span class=\"k\">(</span>err<span class=\"k\">,</span> res<span class=\"k\">)</span> <span class=\"k\">{</span>","\t    <span class=\"k\">if</span> <span class=\"k\">(</span>err<span class=\"k\">)</span> <span class=\"k\">return</span> done<span class=\"k\">(</span>err<span class=\"k\">);</span>","\t    <span class=\"k\">return</span> done<span class=\"k\">();</span>","\t    <span class=\"k\">}</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span>"];
_$jscoverage['test/loggedin.js'][4]++;
var port = 3000;
_$jscoverage['test/loggedin.js'][5]++;
var endpoint = ("http://localhost:" + port);
_$jscoverage['test/loggedin.js'][7]++;
var app = require("../lib-coverage/bin/www");
_$jscoverage['test/loggedin.js'][8]++;
var superrequest = require("supertest");
_$jscoverage['test/loggedin.js'][9]++;
var request = superrequest.agent(endpoint);
_$jscoverage['test/loggedin.js'][10]++;
var should = require("should");
_$jscoverage['test/loggedin.js'][11]++;
var assert = require("assert");
_$jscoverage['test/loggedin.js'][13]++;
describe("for logged in user", (function () {
  _$jscoverage['test/loggedin.js'][15]++;
  describe("GET /profile", (function () {
  _$jscoverage['test/loggedin.js'][16]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][17]++;
  it("should return 200 when logged in", (function (done) {
  _$jscoverage['test/loggedin.js'][18]++;
  request.get("/profile").set("Cookie", "connect.sid=s%3AJjSPY2pQd6Q7bPSIiq9ntFGHaRYtJuwF.fb7bLc1wglzrfExS1v0xU6fzlPDeGBdqDjlb2aHQ37w").end((function (err, res) {
  _$jscoverage['test/loggedin.js'][22]++;
  if (err) {
    _$jscoverage['test/loggedin.js'][23]++;
    return done(err);
  }
  else {
    _$jscoverage['test/loggedin.js'][25]++;
    res.statusCode.should.equal(200);
    _$jscoverage['test/loggedin.js'][26]++;
    done();
  }
}));
}));
}));
  _$jscoverage['test/loggedin.js'][32]++;
  describe("POST /postmessage", (function () {
  _$jscoverage['test/loggedin.js'][33]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][34]++;
  it("should post a message on the users wall", (function (done) {
  _$jscoverage['test/loggedin.js'][35]++;
  request.post("/postmessage").send({name: "testingaccount", text: "testmochatest"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][39]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][41]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][45]++;
  describe("POST /usersearch", (function () {
  _$jscoverage['test/loggedin.js'][46]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][47]++;
  it("should search for a user, and be redirected to that user", (function (done) {
  _$jscoverage['test/loggedin.js'][48]++;
  request.post("/usersearch").send({user: "elias"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][52]++;
  res.statusCode.should.equal(200);
  _$jscoverage['test/loggedin.js'][53]++;
  res.text.should.equal(JSON.stringify({success: true}));
}));
  _$jscoverage['test/loggedin.js'][55]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][59]++;
  describe("POST /addfriend", (function () {
  _$jscoverage['test/loggedin.js'][60]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][61]++;
  it("should add a user", (function (done) {
  _$jscoverage['test/loggedin.js'][62]++;
  request.post("/addfriend").send({name: "elias"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][66]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][68]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][72]++;
  describe("POST /checkfriendstatus", (function () {
  _$jscoverage['test/loggedin.js'][73]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][74]++;
  it("should check friend status with friend", (function (done) {
  _$jscoverage['test/loggedin.js'][75]++;
  request.post("/checkfriendstatus").send({name: "elias"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][79]++;
  res.text.should.equal(JSON.stringify({name: "elias", status: true}));
  _$jscoverage['test/loggedin.js'][80]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][82]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][86]++;
  describe("POST /removefriend", (function () {
  _$jscoverage['test/loggedin.js'][87]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][88]++;
  it("should remove a user", (function (done) {
  _$jscoverage['test/loggedin.js'][89]++;
  request.post("/removefriend").send({name: "elias"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][93]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][95]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][99]++;
  describe("POST /checkfriendstatus", (function () {
  _$jscoverage['test/loggedin.js'][100]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][101]++;
  it("should check friend status with friend", (function (done) {
  _$jscoverage['test/loggedin.js'][102]++;
  request.post("/checkfriendstatus").send({name: "elias"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][106]++;
  res.text.should.equal(JSON.stringify({name: "elias", status: false}));
  _$jscoverage['test/loggedin.js'][107]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][109]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][113]++;
  describe("POST /getall", (function () {
  _$jscoverage['test/loggedin.js'][114]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][115]++;
  it("should get all messages for user", (function (done) {
  _$jscoverage['test/loggedin.js'][116]++;
  request.post("/getall").send({name: "testingaccount"}).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][120]++;
  res.text.length.should.greaterThan(1);
  _$jscoverage['test/loggedin.js'][121]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][123]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][127]++;
  describe("GET /getfriends", (function () {
  _$jscoverage['test/loggedin.js'][128]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][129]++;
  it("should return 200 and list users friends", (function (done) {
  _$jscoverage['test/loggedin.js'][130]++;
  request.get("/getfriends").end((function (err, res) {
  _$jscoverage['test/loggedin.js'][132]++;
  res.text.length.should.above(0);
  _$jscoverage['test/loggedin.js'][133]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][135]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][139]++;
  describe("GET /getusername", (function () {
  _$jscoverage['test/loggedin.js'][140]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][141]++;
  it("should return 200 and get user", (function (done) {
  _$jscoverage['test/loggedin.js'][142]++;
  request.get("/getusername").end((function (err, res) {
  _$jscoverage['test/loggedin.js'][144]++;
  res.text.should.equal(JSON.stringify({username: "testingaccount"}));
  _$jscoverage['test/loggedin.js'][145]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][147]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][151]++;
  describe("GET /photos", (function () {
  _$jscoverage['test/loggedin.js'][152]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][153]++;
  it("should return 200 and show viewer list of images", (function (done) {
  _$jscoverage['test/loggedin.js'][154]++;
  request.get("/profile/photos").expect(200).end((function (err, res) {
  _$jscoverage['test/loggedin.js'][157]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][159]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][164]++;
  describe("GET /users/elias", (function () {
  _$jscoverage['test/loggedin.js'][165]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][166]++;
  it("should return 200 when going to another user", (function (done) {
  _$jscoverage['test/loggedin.js'][167]++;
  request.get("/users/elias").end((function (err, res) {
  _$jscoverage['test/loggedin.js'][169]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][171]++;
  done();
}));
}));
  _$jscoverage['test/loggedin.js'][175]++;
  describe("GET /users/unknownuser", (function () {
  _$jscoverage['test/loggedin.js'][176]++;
  it("should login", loginUser());
  _$jscoverage['test/loggedin.js'][177]++;
  it("should return 200 when going to another user", (function (done) {
  _$jscoverage['test/loggedin.js'][178]++;
  request.get("/users/unknownuser").end((function (err, res) {
  _$jscoverage['test/loggedin.js'][180]++;
  res.text.should.equal("There is no such user");
  _$jscoverage['test/loggedin.js'][181]++;
  res.statusCode.should.equal(200);
}));
  _$jscoverage['test/loggedin.js'][183]++;
  done();
}));
}));
}));
_$jscoverage['test/loggedin.js'][201]++;
function loginUser() {
  _$jscoverage['test/loggedin.js'][202]++;
  return (function (done) {
  _$jscoverage['test/loggedin.js'][203]++;
  request.post("/signin").send({username: "testingaccount", password: "test"}).expect(302).end(onResponse);
  _$jscoverage['test/loggedin.js'][209]++;
  function onResponse(err, res) {
    _$jscoverage['test/loggedin.js'][210]++;
    if (err) {
      _$jscoverage['test/loggedin.js'][210]++;
      return done(err);
    }
    _$jscoverage['test/loggedin.js'][211]++;
    return done();
}
});
}
